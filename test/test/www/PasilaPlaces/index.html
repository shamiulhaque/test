<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>Pasila Best Places</title>
        <style type="text/css">
            html, body, #basicMap
            {
                width: 90%;
                height: 90%;
                margin: 0;
            }
            #Text1
            {
                width: 131px;
                height: 22px;
                margin-left: 91px;
            }
        </style>
        <script src="http://www.openlayers.org/api/OpenLayers.js"></script>
        <script>
            function init() {
                map = new OpenLayers.Map("basicMap");
                map.addLayer(new OpenLayers.Layer.OSM());

                var pois = new OpenLayers.Layer.Text("My Points",
                    { location: "./textfile.txt",
                        projection: map.displayProjection
                    });
                    map.addLayer(pois);
                //Displaying lat and lon
                map.addControl(new OpenLayers.Control.MousePosition());
                //map.addControl(new OpenLayers.Control.Click());

                map.events.register("click", map, function (e) {
                    var position = map.getLonLatFromPixel(e.xy);
                    var lont = position.lon.toFixed(3);
                    var latt = position.lat.toFixed(3);

                    OpenLayers.Util.getElement("shortdesc").innerHTML =
             lont + ', ' + latt;

                });


                //Set start centrepoint and zoom    
                var lonLat = new OpenLayers.LonLat(24.9445, 60.2029)
          .transform(
            new OpenLayers.Projection("EPSG:4326"), // transform from WGS 1984
            map.getProjectionObject() // to Spherical Mercator Projection
          );
                var zoom = 15;
                map.setCenter(lonLat, zoom);
                //Marking Place on Map
                markers = new OpenLayers.Layer.Markers("Markers");
                markers.id = "Markers";
                map.addLayer(markers);

                map.events.register("click", map, function (e) {
                    //var position = this.events.getMousePosition(e);
                    var position = map.getLonLatFromPixel(e.xy);
                    var size = new OpenLayers.Size(21, 25);
                    var offset = new OpenLayers.Pixel(-(size.w / 2), -size.h);
                    var icon = new OpenLayers.Icon('images/red_mark.png', size, offset);
                    var markerslayer = map.getLayer('Markers');

                    markerslayer.addMarker(new OpenLayers.Marker(position, icon));

                });

            }
        </script>
		<meta name="description" content="" />
		<meta name="author" content="bappy" />

		<meta name="viewport" content="width=device-width; initial-scale=1.0" />

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
	</head>

	 <body onload="init();">
        <div id="basicMap">
        </div>
        <div id="shortdesc">
        </div>
    </body>
</html>
